import{d as b,a0 as x,g,o as E,b as T,w as F,r as G,M as R,a3 as v,F as S,as as $,t as k}from"./framework.DeQ1eoAg.js";import{_ as A}from"./Grid.vue_vue_type_script_setup_true_lang.DsQiu0Bw.js";const z=b({__name:"GridTable",props:{list:{},rowKey:{},rowMinHeight:{},defaultExpandAll:{type:Boolean},merges:{},selection:{type:Boolean},groupConfig:{},border:{type:Boolean},stripe:{type:Boolean},showTreeLine:{type:Boolean}},setup(u){const d=u,l=x(),p=v(),C=g(()=>({...d,...p==null?void 0:p.attrs}));function B(t){let r=document.createElement("div");$(t,r)}function s(t){return t.type.name==="GridTableColumn"}function f(t){var h,y;const r=t.props.field,o=t.props;if(Object.keys(o).forEach(n=>{o[n]===""&&(o[n]=!0)}),B(t),!s(t))throw new Error("please use GridTableColumn");const e=((h=t.component)==null?void 0:h.slots)??{},a={...o,field:r,headerRender:e.header?n=>{var c,i;return(i=(c=e.header)==null?void 0:c.call(e,{column:n}))==null?void 0:i[0]}:void 0};(((y=e.default)==null?void 0:y.call(e,{row:{},column:{}}))??[]).forEach(n=>{s(n)&&(a.children||(a.children=[]),a.children.push(f(n)))});const m=!a.children&&!!e.default;return console.log(m),m&&(a.bodyRender=(n,c)=>{var i,_;return(_=(i=e.default)==null?void 0:i.call(e,{column:n,row:c}))==null?void 0:_[0]}),a}const w=g(()=>{var o;let t=((o=l.default)==null?void 0:o.call(l))??[];const r=[];return t.forEach(e=>{s(e)&&r.push(e),e.type===S&&r.push(...e.children.filter(s))}),r.filter(e=>s(e)).map(e=>f(e))});return(t,r)=>(E(),T(A,R({columns:w.value},C.value),{empty:F(()=>[G(t.$slots,"empty")]),_:3},16,["columns"]))}}),I={name:"GridTableColumn"},D=b({...I,props:{field:{},title:{},type:{},width:{},minWidth:{},maxWidth:{},resizable:{type:Boolean},fixed:{},align:{},headerAlign:{},children:{},className:{},headerRender:{type:Function},bodyRender:{type:Function},index:{type:Function},colIndex:{},ellipsis:{type:Boolean},sort:{}},setup(u){return(d,l)=>k(d.field)}});export{D as _,z as a};
